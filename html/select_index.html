<!DOCTYPE html>
<html>
<head>
    <META http-equiv="Content-Type" content="text/html; charset=gb2312">
    <title> </title>
    <link href="css/main_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <table width=100%>
        <tr>
            <td nowrap>
                <table bgcolor="#AABBCC" width=300 align=center><tr><td nowrap><b><center><font size=4 color=#1a1a0a> 
                    <div id="titleName"></div> </font></center></b></td></tr></table><br />
                <br><div style="font-size:22px; bgcolor:#F0D450;" >
                    &nbsp;&nbsp;<a href="javascript:void(0)" onclick="image_set()">设置图像音频编码详细参数</a>
                    &nbsp;&nbsp;<a href="javascript:void(0)" onclick="stream_push()">设置推流或者保存到本地</a>
                    </div><br /><br><div style="font-size:15px; bgcolor:#F03450;">
                    <b><font size=3 color=#175011>&nbsp;&nbsp;音频压缩方式: </font></b>&nbsp;
                    <select id="audio_type">
                        <option value="1" selected="selected">AAC-LC</option>
                        <option value="4">MP2</option>
                    </select>
                &nbsp;&nbsp;&nbsp;<a href="/about.html" target="_blank"><font size=4 color="#4F88f9"><b>关于</b></font></a></div>
                <br><div style="font-size:15px; bgcolor:#F03450;">
                    <b><font size=3 color=#aa0011>&nbsp;&nbsp;图像压缩方式：</font></b>
                    <font size=1>&nbsp; ( 使用javascript解码；h264视频使用h264bsd开源库，mpeg1视频和mp2音频采用jsmpeg开源库 )</font>
                </div><br />
                <table style="font-size:14px;" border="0" bgcolor="#d1d1e1" width="90%" align="center">
                    <tr>
                        <td style="width:80px;" nowrap>&nbsp;&nbsp;&nbsp;&nbsp;<font size=4 color="#1F71BC"><b>1.</b></font>&nbsp;&nbsp;&nbsp;&nbsp;</td>
                        <td style="width:150px;" nowrap><font style="font-size:20px;"><a href="javascript:void(0)" onclick="mjpg_go()">MJPG</a> &nbsp;</font></td>
                        <td nowrap>使用JPEG图片流，占用带宽高，<br />但是在手机等移动设备的浏览器里比较流畅</td>
                    </tr>
                    <tr><td nowrap>&nbsp;</td></tr>
                    <tr>
                        <td  style="width:80px;"  nowrap>&nbsp;&nbsp;&nbsp;&nbsp;<font size=4 color="#1F71BC"><b>2.</b></font>&nbsp;&nbsp;&nbsp;&nbsp;</td>
                        <td  style="width:150px;"  nowrap><font style="font-size:20px;"><a href="javascript:void(0)" onclick="h264_go()">H.264<font size=2>(推荐)</font></a> &nbsp;</font></td>
                        <td nowrap>使用 H.264压缩，占用带宽低，但是CPU占有率高<br />在手机等移动设备的浏览器里有很大延迟</td>
                    </tr>
                    <tr><td nowrap>&nbsp;</td></tr>
                    <tr>
                        <td style="width:80px;"  nowrap>&nbsp;&nbsp;&nbsp;&nbsp;<font size=4 color="#1F71BC"><b>3.</b></font>&nbsp;&nbsp;&nbsp;&nbsp;</td>
                        <td  style="width:150px;"  nowrap><font style="font-size:20px;"><a href="javascript:void(0)" onclick="mpeg1_go()">MPEG1</a> &nbsp;</font></td>
                        <td nowrap>使用 MPEG1压缩，占用带宽低，但是CPU占有率高<br />在手机等移动设备的浏览器里有很大延迟</td>
                    </tr>
                    <tr><td nowrap>&nbsp;</td></tr>
                    <tr>
                        <td  style="width:80px;"  nowrap>&nbsp;&nbsp;&nbsp;&nbsp;<font size=4 color="#1F71BC"><b>4.</b></font>&nbsp;&nbsp;&nbsp;&nbsp;</td>
                        <td  style="width:150px;"  nowrap><font style="font-size:20px;"><a href="javascript:void(0)" onclick="vp8_go()">VP8</a> &nbsp;</font></td>
                        <td nowrap>使用 VP8 压缩，占用带宽低，但是CPU占有率高<br />在手机等移动设备的浏览器里有很大延迟</td>
                    </tr>
                    <tr><td nowrap>&nbsp;</td></tr>
                </table>
            </td>
        </tr>
        <tr>
            <td nowrap>
                <font size=2 color="#407090"><br />&nbsp;注：请使用Chrome，Firefox，Edge，Safari，Opera等支持最新功能的现代浏览器，不支持IE及IE内核浏览器&nbsp;</font>
            </td>
        </tr>
        <tr><td nowrap><br><center><font color=#223377 size=2>&nbsp;&nbsp;CopyRight 2017-2018 Fanxiushu </font></center></td></tr>
    </table>
    <script>
        function getQueryString(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
            var r = window.location.search.substr(1).match(reg);
            if (r != null) return unescape(r[2]); return null;
        }

        setTitleName();

        function setTitleName(){
            var tmp=getQueryString("desc"); 
            if(tmp) {//alert(document.getElementById('title_name').InnerHTML);
                document.getElementById('titleName').innerText=tmp;
                document.title= tmp+' 远程图像压缩选择';
            }
        }
       
        function mjpg_go() {
            var audiotype = parseInt(document.getElementById('audio_type').value);
            var desc = getQueryString("desc"); if (desc == null) desc = "";
            window.location.href = "/htmlvideo?id=" + getQueryString("id") + "&compress=mjpg&audiotype=" + audiotype + "&desc=" + escape(desc);
        }
        function h264_go() {
            var audiotype = parseInt(document.getElementById('audio_type').value);
            var desc = getQueryString("desc"); if (desc == null) desc = "";
            window.location.href = "/htmlvideo?id=" + getQueryString("id") + "&compress=h264&audiotype=" + audiotype + "&desc=" + escape(desc);
        }
        function vp8_go() {
            var audiotype = parseInt(document.getElementById('audio_type').value);
            var desc = getQueryString("desc"); if (desc == null) desc = "";
            window.location.href = "/htmlvideo?id=" + getQueryString("id") + "&compress=vp8&audiotype=" + audiotype + "&desc=" + escape(desc);
        }
        function mpeg1_go() {
            var audiotype = parseInt(document.getElementById('audio_type').value);
            var desc = getQueryString("desc"); if (desc == null) desc = "";
            window.location.href = "/htmlvideo?id=" + getQueryString("id") + "&compress=mpeg1&audiotype=" + audiotype + "&desc=" + escape(desc);
        }
        function image_set(){
            var url = "/image_set.html?id="+getQueryString("id")+"&desc="+ escape(document.getElementById('titleName').innerText); // escape把中文转码
            window.location.href=url;
        }
        function stream_push(){
            var url = "/stream_push.html?id="+getQueryString("id")+"&desc="+ escape(document.getElementById('titleName').innerText); // escape把中文转码
            window.location.href=url;
        }
    </script>
</body>
</html>

